[gd_scene load_steps=4 format=3 uid="uid://pi80ygjqo56h"]

[ext_resource type="Texture2D" uid="uid://cmi2ftifns6t5" path="res://projectile.png" id="1_a85iw"]

[sub_resource type="GDScript" id="GDScript_hqtel"]
script/source = "#extends Area2D

#@export var speed: float = 5000.0
#@export var velocity: Vector2 = Vector2(1, 0) # This is now correctly defined here
#@export var damage_amount: int = 10
#@onready var animated_sprite = $AnimatedSprite2D

#func _ready():
	# Connect signal for body collision detection
	# It's good practice to connect signals in _ready, especially if the signal
	# emitter (self, in this case) is guaranteed to exist.
#	body_entered.connect(_on_body_entered) 

#func _physics_process(delta):
	# Using 'velocity' now for movement, correctly normalized
#	position += velocity.normalized() * speed * delta 

#func get_damage_amount() -> int:
#	return damage_amount

#func _on_body_entered(body: Node):
	# Ensure the 'pp' group check is correctly applied to your player
#	if body.is_in_group(\"pp\"): 
#		if body.has_method(\"take_damage_from_attacker\"):
			# Pass 'self' (the projectile) as the attacker
#			body.take_damage_from_attacker(damage_amount, self) 
#		queue_free() # Destroy the projectile after hitting the target
	# You might also want to destroy the projectile if it hits anything else
	# like a wall or obstacle, not just the player.
	# Example:
	# else:
	#   queue_free()

#func _on_timeout():
	# This function would be connected to the optional timer to despawn the projectile
#	queue_free()

#func _on_timer_timeout() -> void:
	# This function reloads the entire scene. It's almost certainly not what
	# you want a projectile to do, so keeping it commented out or removing it is best.
#	pass"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qxf0c"]
radius = 25.0
height = 50.0

[node name="projectile" type="Area2D"]
collision_layer = 0
collision_mask = 2
script = SubResource("GDScript_hqtel")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(0, -4)
scale = Vector2(0.112195, 0.162)
texture = ExtResource("1_a85iw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(1, -3)
shape = SubResource("CapsuleShape2D_qxf0c")

[node name="Timer" type="Timer" parent="."]

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
